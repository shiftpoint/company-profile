# =============================================================================
# NETLIFY TOML FILE FOR A STANDARD REACT APP
# =============================================================================

# -----------------------------------------------------------------------------
# [build]
#
# This section defines the build settings for your site.
# -----------------------------------------------------------------------------
[build]
  # This is the command Netlify will run to build your site.
  # 'npm run build' is the standard for most React projects.
  # If you use yarn or pnpm, you can change this to 'yarn build' or 'pnpm build'.
  command = "npm run build"

  # This is the directory that contains the deploy-ready assets generated by
  # your build command.
  # For Vite-based React apps, this is 'dist'.
  # For Create React App, this is 'build'.
  # ** ACTION: Make sure this matches your project's output directory! **
  publish = "dist" # Or "build" if using Create React App

# -----------------------------------------------------------------------------
# [dev]
#
# This section is optional and configures the local Netlify Dev environment.
# It helps mimic the production environment on your local machine.
# -----------------------------------------------------------------------------
[dev]
  # The command to start your local development server.
  command = "npm run dev" # Or "npm start" for Create React App

  # The port your local dev server runs on.
  # Default for Vite is 5173, for Create React App is 3000.
  targetPort = 5173

# -----------------------------------------------------------------------------
# [[redirects]]
#
# This section handles redirects. The rule below is crucial for Single Page
# Applications (SPAs) like React. It ensures that any request to a path that
# doesn't match a static file is redirected to index.html. This allows
# client-side routing (e.g., React Router) to handle the URL.
# -----------------------------------------------------------------------------
[[redirects]]
  # The source path to match. '/*' is a wildcard for any path.
  from = "/*"
  # The destination to redirect to.
  to = "/index.html"
  # The HTTP status code for the redirect. 200 means "OK" and serves the
  # content of index.html at the original URL without changing the URL in
  # the browser's address bar.
  status = 200

# -----------------------------------------------------------------------------
# [[headers]]
#
# This section allows you to set custom HTTP headers for your site's assets,
# which can improve security and performance.
# -----------------------------------------------------------------------------
[[headers]]
  # Apply these headers to all pages ('/*').
  for = "/*"
  [headers.values]
    # The X-Frame-Options header prevents your site from being embedded in an
    # <iframe> on other sites, which helps prevent "clickjacking" attacks.
    X-Frame-Options = "DENY"

    # The X-XSS-Protection header enables the cross-site scripting (XSS)
    # filter built into most modern browsers.
    X-XSS-Protection = "1; mode=block"

    # The X-Content-Type-Options header prevents the browser from MIME-sniffing
    # a response away from the declared content-type.
    X-Content-Type-Options = "nosniff"

    # The Referrer-Policy header controls how much referrer information
    # should be included with requests.
    Referrer-Policy = "strict-origin-when-cross-origin"

    # Content-Security-Policy (CSP) is a powerful security layer that helps
    # detect and mitigate certain types of attacks, including XSS and data
    # injection. This is a very basic policy; you might need to extend it
    # based on the external scripts, styles, or fonts you use.
    # Content-Security-Policy = "default-src 'self'; script-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;"
